@import "../utils/_all.scss";
@import "../components/lib/c-card.scss";
/*------------------------------*\

    # LAYOUTS
	# Modules de mise en page
	
\*------------------------------*/
.top-display{
	$txt-color: $c-textwhite;
	height:3rem;	
	background:$c-dark none;
	text-align:right;
	padding:0 $space/4;
	z-index: 50;
	position: relative;
	
	.p-ss{
		margin:0;
		font-size:1.2rem;
		color:$txt-color;
		padding-top:$space*0.03;
		
		a {
			color:$txt-color;
			border-bottom:1px solid #fff;
		}
	}
}

.header-bloc{
	position: relative;
	background:url('../img/energie-partagee-header-ciel-bleu.jpg') no-repeat;
	background-size:cover;
	text-align:center;
	color:$c-textwhite;	
	padding-top:$space;

	&::before {
		@include pseudo-bg(#000, 0.5);
		z-index: 0;
	}

	>* {
		position: relative;
	}
	
	.h1{
		margin-bottom:$space/2;		
	}
	.h4 {
		margin-bottom: 0;
		margin-top: $space*0.3;
		color:$c-textwhite;
		
		span{
			display:inline-block;
			margin:0 $gutter/6 0 0;
			
			&:last-child{
				margin-left:$gutter/2;	
			}
		}
	}
	.lightvideo.button{
		margin-top: $space*0.3;
	}

	.tags {
		display: none;
	}
		
}

.page, .single, .search-results, .archive{ 
	.header-bloc{
		padding-bottom:$space*2.4;
		margin-bottom:$space*2.4;
	
		.h1{
			margin:$space*0.1 auto 0;		
		}
	}
}


.tags{
	@extend %list-reset;
	display: flex;
    justify-content: center;
	
	li{
		margin:0 $space*0.1 $space*0.1 0;
		
		&:last-child{
			margin-right:0;	
		}
		
		.tag{
			color:$c-textwhite;			
		}
	}
		
}
.tag {
	font-size:1.2rem;
	border:2px solid #fff;
	padding:$gutter/8 $gutter/4;
	border-radius:$radius;	
	display:inline-block;	
	position: relative;
	color: #fff;

	a {
		color: #fff;
	}

	&::after {
		content: '';
		position: absolute;
		top: 50%;
		right: 0;
		width: 0;
		height: 0;
		border-style: solid;
		border-width: 6px 0 6px 6px;
		border-color: transparent transparent transparent #fff;
		transform: translate(100%, -50%);

	}

	&.is-inactive {
		border-color: rgba(#fff, 0);
		background-color: rgba(#fff, 0.5);
		cursor: default;

		&::after {
			display: none;
		}
	}
}

.card {
	@extend %card;
}

.card-news {
	@extend %card;

	&:hover { 
		.card__infos {
			opacity: 0;
		}
		.tag {
			transform: translateY(-20%);
		}
		.card__title {
			transform: translateY(20%);
		}
	}
	
	.card__infos {
		@extend %transition;	
		position: absolute;
		top: 0;
		height: 100%;
		width: 100%;
		background: rgba(0,0,0,0.3);
	}

	.tag {
		text-transform:uppercase;	
	}

	.card__title, .tag {
		@extend %transition;
	}
}
.card-news--expand {
	@extend .card-news;
}
.card-news--big {
	@extend .card-news;
}
.card-project{
	@extend %transition;
	.card__img {
		&::after {
			content: '';
			position: absolute;
			width: 100%;
			height: 100%;
			top: 0;
			left: 0;
			background: linear-gradient(40deg, rgba(#000, 0.3) 0%, rgba(#000, 0) 50%);
			z-index: 0;
		}
	}
}

.minicard{		
	@extend %minicard;	
}

.round__img{
	display:block;
	border-radius: 50%;
	margin: 0 auto;
	overflow: hidden;
	text-align: center;	
}


.holder-card{
	max-width:260px;	
}
/* Modules projet */
.a-project .holder-card{
	width:100%;
	max-width:100%;	
}

.p-details{
	@extend %p-details;
}

.dot {
	width: 16px;
	height: 16px;
	border-radius: 50%;
	background: $c-main;
}

.micro-legende {
	font: 400 12px $txt-font;
	color: $c-light;
}

.infosbloc {
 	position: relative;
 	background: $c-bglight;
 	padding: $gutter/2;
 	margin-top: $gutter/2;
 	border-radius: $radius;

 	h4 {
 		padding-bottom: $gutter/4
 	}

 	.pointe--up {
 		position: absolute;
 		top: -12px;
 	}
}

.pointe--up {
	border-style: solid;
	border-width: 0 8px 12px 8px;
	border-color: transparent transparent $c-bglight transparent;
	width:0;
	position: absolute; 		
}

.duo-card{
	
	.head__flex{
		.s-title{
			margin-bottom:0;
			margin-top:$gutter*0.3;	
		}
		.box__half{
			flex: 0 1 auto;			
			text-align:right;
		}
		
		
		.lighter{
			color:$c-light;
			text-align:right;
			display:none;
			padding-right: 1rem;
		}
		
		.social{
			display:inline-block;
			margin:0;			
		}		
			
	}
}

.trio-card{
	background:url("../img/shape-grid-1.png") repeat 0 0 $c-bglight;
	
	.box__half {
		display: block;
		width: 100%;
	 }
		
	.box__fixe{
		display:none;
	}
	.button {
		margin-top:$space*0.3;
	 }
}
.single .trio-card{
	.box__fixe{
		display:flex;
		flex:100%;
	}
}

/* Courtcircuit */
.courtcircuit{
	padding-bottom:$space;
	
	.wrap-n{
		@include background(radial-gradient(lighten( $c-focus, 5% ),$c-focus), center no-repeat $c-focus scroll);		
		border-radius:$radius;
		padding-top:$gutter*0.75;
		padding-bottom:$gutter*0.75;
	}
	
	.box__half.input__fixe{
		flex:10 1 0;
		margin-bottom:0;
		margin-right: $gutter/2;		
	}
	.box__fixe{
		flex:1 1 0;		
	}	
	.courtcircuit__title {
		display:flex;
		margin:0;
		align-items:baseline;
		justify-content:center; 		
	}
	.courtcircuit__decoleft .img-svg, .courtcircuit__decoright .img-svg{
		width:90px;
		height:54px;
		margin:0 5px 5px;		
	}
	.courtcircuit__decoright .img-svg{		
		margin:0 0 5px 5px;		
	}
	.courtcircuit__logo .img-svg{
		height: 29px;
    	margin-bottom: 10px;
    	width: 226px;
	}	
	
	.courtcircuit__text{
		color:#fff;
	}
	
}
.courtcircuit__input, .input__mailing{
	background: none transparent;
	border-bottom:1px solid #f57f35;
	color: $c-textwhite;
	font-family: $main-font;
	font-size: 3.4rem;
	height: 100%;
	width: 100%;
	padding:0.4rem 0;
	
	&::-webkit-input-placeholder{ 
	  color: $c-textwhite;
	  opacity:1;
	}	
	&::-moz-placeholder{ 
	  color: $c-textwhite;
	  opacity:1;
	}	
	&:-ms-input-placeholder{ 
	  color: $c-textwhite;
	  opacity:1;
	}	
	&:-moz-placeholder { 
	  color: $c-textwhite;
	  opacity:1;
	}	
	
}
/* Top credibility */
.top-credibility{	
	.wrap-n{
		background:$c-bglight;		
		border-radius:$radius;
		padding-top:$space*0.6;
		padding-bottom:$space*0.6;
	}
	.box-logos__btn{
		margin-bottom:0;		
	}	
}

/* Box logos */
.box-logos{	
	@extend .list-reset;
			
    flex-wrap: wrap;
	justify-content: center;	
			
}

.box-logos__item{
	flex: 1 1 100%;
	margin: 0 auto 4rem;
			
	.box-logos__logo{	
		border-radius:$radius;
		overflow:hidden;
		display:block;
		
		img{
			display:block;
			width:100%;
		}
	}
}
		
.box-logos__btn{
	align-self: center;
    flex: 1 1 100%;    		
    text-align: center;
	margin-bottom:$gutter;		
}	

.testimony{	
	color:#fff;
	padding:$space*0.4 $gutter 0;
	border-radius: $radius;
	
	.box__half{		
		padding-right:0;				
	}
	p{
		color:#fff;
		margin-bottom:$space*0.3;
		position:relative;
	}
	.quote{
		font-family: arial;
	    font-size: 5rem;
	    left: -24px;
	    line-height: 1;
	    position: absolute;
	    &:last-child{
	    	left: inherit;
	    	bottom:-5px;
	    	right: -24px;
	    }
	}
}




@media screen and (min-width: $bp--mobile) {	
	.box-logos__item{
		margin: 0 $gutter/4 $gutter;
    	max-width: 45%;
		
		.box-logos__logo  {
			border-radius: 3px;
			display: block;
			margin: auto;
			max-width: 190px;
			overflow: hidden;
		}			
	}	
	
}
@media screen and (min-width: $bp--small) {	
	.header-bloc{
		padding-top:$space*1.6;	

		.tags {
			display: flex;
		}
	}
	
	.holder-card{
		max-width:260px;	
	}
	
	.p-details{
		padding-top:$gutter;
		
		.p-details__nrg{		
			margin-bottom:$gutter;		
		}
	}
	.a-project .holder-card{
		max-width:260px;
		position:absolute;
		bottom:0;
		left:$gutter*2;	
	}
	
	.duo-card{
		.box__half {
			margin-bottom:0;			
		}
	}
	.duo-card {
		.head__flex {
			.s-title{
				text-align:left;
				margin-bottom:$space*0.6;	
			}
			
			.box__half {
				flex:1;
			}
		}
	}	
	.trio-card {
		.box__half:nth-child(3){
			padding-right:0;
		}
	}
	.courtcircuit {
		.box__half.input__fixe{
			flex:1;
			margin-right:0;
		}
		.box__half{
			margin-bottom:0;
			align-self:center;
		}
	}
	.box-logos{
		justify-content:space-between;
			
		.box-logos__item{
			flex:1;
			margin:0 $gutter/2 0 0;			
		}
		.box-logos__item:nth-child(4){			
			margin-right: $gutter;
		}
		.box-logos__btn{
			align-self: center;
			flex: inherit;
			margin-bottom:0;
		}
			
	}
	.testimony {	
		.box__half:first-child{
			padding-right:$gutter;			
			max-width:300px;						
		}
	}
	
}

@media screen and (min-width: 640px) {
	.top-display{
		padding-left:$space/2;	
		padding-right:$space/2;	

		.p-ss{
			font-size:1.4rem;
		}	
	}
}

@media screen and (min-width: $bp--medium) {
	.trio-card {
		.box__half {
			flex: 41.5%;		
			padding-right: $gutter;	
			margin-bottom: 0;
		}
		.box__half:nth-child(3){
			padding-right: $gutter;	
		}
		
		.box__full{
			margin-bottom: 4rem;
			
			.card__img i{
				bottom: 11.5rem;
			}
			.card__infos{
				background:$c-eolien;				
    			bottom: 3rem;
    			display: inline-block;
    			position: absolute;
    			border-radius: 0 $radius $radius 0;
			}
		}	
			
		.box__fixe{
			display:flex;
		}  
	  	.button {
			margin-top:$space*0.6;
		 }
	}
	.duo-card {
		.head__flex {
			.lighter{			
				display: inline-block;
				vertical-align: top;
				padding-top:1rem;
			}			
		}
	}
	
	.top-credibility{		
		@include background(radial-gradient(lighten( $c-special, 10% ),$c-special), center no-repeat $c-special scroll);		
		
		.wrap-n{
			margin-top: 80px;
			position: relative;
			transform: translateY(-70px);
		}
	}
	.box-logos{
		
		.box-logos__btn{
			align-self: center;
			flex: inherit;				
		}
	}
	
	.testimony {
		padding:$space*0.4 $gutter*2 0;
		
		
		.holder-round{
			margin:0;	
		}
	}
		
}